{"version":3,"file":"highcharts-angular.mjs","sources":["../../../highcharts-angular/src/lib/highcharts-chart.component.ts","../../../highcharts-angular/src/lib/highcharts-chart.module.ts","../../../highcharts-angular/src/public_api.ts","../../../highcharts-angular/src/highcharts-angular.ts"],"sourcesContent":["import { Component, ElementRef, EventEmitter, Input, OnDestroy, Output, NgZone, OnChanges, SimpleChanges } from '@angular/core';\nimport type * as Highcharts from 'highcharts';\nimport type HighchartsESM from 'highcharts/es-modules/masters/highcharts.src';\n\n@Component({\n  selector: 'highcharts-chart',\n  template: ''\n})\nexport class HighchartsChartComponent implements OnDestroy, OnChanges {\n  @Input() Highcharts: typeof Highcharts | typeof HighchartsESM;\n  @Input() constructorType: string;\n  @Input() callbackFunction: Highcharts.ChartCallbackFunction;\n  @Input() oneToOne: boolean; // #20\n  @Input() runOutsideAngular: boolean; // #75\n  @Input() options: Highcharts.Options;\n  @Input() update: boolean;\n\n  @Output() updateChange = new EventEmitter<boolean>(true);\n  @Output() chartInstance = new EventEmitter<Highcharts.Chart>(); // #26\n\n  private chart: Highcharts.Chart;\n\n  constructor(\n    private el: ElementRef,\n    private _zone: NgZone // #75\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const update = changes.update && changes.update.currentValue;\n    if (changes.options || update) {\n      this.wrappedUpdateOrCreateChart();\n      if (update) {\n        this.updateChange.emit(false); // clear the flag after update\n      }\n    }\n  }\n\n  wrappedUpdateOrCreateChart() { // #75\n    if (this.runOutsideAngular) {\n      this._zone.runOutsideAngular(() => {\n        this.updateOrCreateChart()\n      });\n    } else {\n      this.updateOrCreateChart();\n    }\n  }\n\n  updateOrCreateChart() {\n    if (this.chart && this.chart.update) {\n      this.chart.update(this.options, true, this.oneToOne || false);\n    } else {\n      this.chart = (this.Highcharts as any)[this.constructorType || 'chart'](\n        this.el.nativeElement,\n        this.options,\n        this.callbackFunction || null\n      );\n\n      // emit chart instance on init\n      this.chartInstance.emit(this.chart);\n    }\n  }\n\n  ngOnDestroy() { // #44\n    if (this.chart) {  // #56\n      this.chart.destroy();\n      this.chart = null;\n    }\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {HighchartsChartComponent} from './highcharts-chart.component';\n\n@NgModule({\n  declarations: [ HighchartsChartComponent ],\n  exports: [ HighchartsChartComponent ]\n})\nexport class HighchartsChartModule {}\n","/*\n * Public API Surface of highcharts-angular\n */\n\nexport * from './lib/highcharts-chart.module';\nexport * from './lib/highcharts-chart.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}