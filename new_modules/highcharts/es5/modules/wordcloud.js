/*
 Highcharts JS v10.3.3 (2023-01-20)

 (c) 2016-2021 Highsoft AS
 Authors: Jon Arild Nygard

 License: www.highcharts.com/license
*/
(function(c){"object"===typeof module&&module.exports?(c["default"]=c,module.exports=c):"function"===typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts"],function(l){c(l);c.Highcharts=l;return c}):c("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(c){function l(c,g,h,p){c.hasOwnProperty(g)||(c[g]=p.apply(null,h),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:g,module:c[g]}})))}c=c?c._modules:{};l(c,
"Series/DrawPointUtilities.js",[c["Core/Utilities.js"]],function(c){return{draw:function(c,h){var p=h.animatableAttribs,e=h.onComplete,k=h.css,f=h.renderer,g=c.series&&c.series.chart.hasRendered?void 0:c.series&&c.series.options.animation,m=c.graphic;h.attribs=h.attribs||{};h.attribs["class"]=c.getClassName();if(c.shouldDraw())m||(c.graphic=m="text"===h.shapeType?f.text():f[h.shapeType](h.shapeArgs||{}),m.add(h.group)),k&&m.css(k),m.attr(h.attribs).animate(p,h.isNew?!1:g,e);else if(m){var l=function(){c.graphic=
m=m&&m.destroy();"function"===typeof e&&e()};Object.keys(p).length?m.animate(p,void 0,function(){return l()}):l()}}}});l(c,"Series/Wordcloud/WordcloudPoint.js",[c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"]],function(c,g){var h=this&&this.__extends||function(){var c=function(e,k){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(c[f]=e[f])};return c(e,k)};return function(e,k){function f(){this.constructor=
e}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");c(e,k);e.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();g=g.extend;c=function(c){function e(){var e=null!==c&&c.apply(this,arguments)||this;e.dimensions=void 0;e.options=void 0;e.polygon=void 0;e.rect=void 0;e.series=void 0;return e}h(e,c);e.prototype.isValid=function(){return!0};return e}(c.seriesTypes.column.prototype.pointClass);g(c.prototype,{weight:1});
return c});l(c,"Series/Wordcloud/WordcloudUtils.js",[c["Core/Globals.js"],c["Core/Utilities.js"]],function(c,g){function h(a,b){return!(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<a.top)}function l(a,b){var d=b[0]-a[0];a=b[1]-a[1];return[[-a,d],[a,-d]]}function e(a){var b=a.axes||[];if(!b.length){b=[];var d=d=a.concat([a[0]]);d.reduce(function(a,d){var c=l(a,d)[0];A(b,function(a){return a[0]===c[0]&&a[1]===c[1]})||b.push(c);return d});a.axes=b}return b}function k(a,b){a=a.map(function(a){return a[0]*
b[0]+a[1]*b[1]});return{min:Math.min.apply(this,a),max:Math.max.apply(this,a)}}function f(a,b){var d=e(a),c=e(b);d=d.concat(c);return!A(d,function(d){var c=k(a,d);d=k(b,d);return!!(d.min>c.max||d.max<c.min)})}function I(a,b){var d=!1,c=a.rect,z=a.polygon,e=a.lastCollidedWith,g=function(b){var d=h(c,b.rect);d&&(a.rotation%90||b.rotation%90)&&(d=f(z,b.polygon));return d};e&&((d=g(e))||delete a.lastCollidedWith);d||(d=!!A(b,function(b){var d=g(b);d&&(a.lastCollidedWith=b);return d}));return d}function m(a,
b){b=4*a;var d=Math.ceil((Math.sqrt(b)-1)/2),c=2*d+1,e=Math.pow(c,2),f=!1;--c;1E4>=a&&("boolean"===typeof f&&b>=e-c&&(f={x:d-(e-b),y:-d}),e-=c,"boolean"===typeof f&&b>=e-c&&(f={x:-d,y:-d+(e-b)}),e-=c,"boolean"===typeof f&&(f=b>=e-c?{x:-d+(e-b),y:d}:{x:d,y:d-(e-b-c)}),f.x*=5,f.y*=5);return f}function r(a,b){var d=b.width/2,c=-(b.height/2),e=b.height/2;return!(-(b.width/2)<a.left&&d>a.right&&c<a.top&&e>a.bottom)}function u(a,b,d){return d.map(function(d){return[d[0]+a,d[1]+b]})}function w(a,b){b=n(b)?
b:14;b=Math.pow(10,b);return Math.round(a*b)/b}function v(a,b){var d=a[0];a=a[1];var c=x*-b;b=Math.cos(c);c=Math.sin(c);return[w(d*b-a*c),w(d*c+a*b)]}function B(a,b,d){a=v([a[0]-b[0],a[1]-b[1]],d);return[a[0]+b[0],a[1]+b[1]]}var x=c.deg2rad,D=g.extend,A=g.find,n=g.isNumber,C=g.isObject,y=g.merge;return{archimedeanSpiral:function(a,b){var d=b.field;b=!1;d=d.width*d.width+d.height*d.height;var c=.8*a;1E4>=a&&(b={x:c*Math.cos(c),y:c*Math.sin(c)},Math.min(Math.abs(b.x),Math.abs(b.y))<d||(b=!1));return b},
extendPlayingField:function(a,b){if(C(a)&&C(b)){var d=b.bottom-b.top;var c=b.right-b.left;b=a.ratioX;var e=a.ratioY;d=c*b>d*e?c:d;a=y(a,{width:a.width+d*b*2,height:a.height+d*e*2})}return a},getBoundingBoxFromPolygon:function(a){return a.reduce(function(a,d){var b=d[0];d=d[1];a.left=Math.min(b,a.left);a.right=Math.max(b,a.right);a.bottom=Math.max(d,a.bottom);a.top=Math.min(d,a.top);return a},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(a,
b,d){d=d.reduce(function(a,b){b=b.dimensions;var d=Math.max(b.width,b.height);a.maxHeight=Math.max(a.maxHeight,b.height);a.maxWidth=Math.max(a.maxWidth,b.width);a.area+=d*d;return a},{maxHeight:0,maxWidth:0,area:0});d=Math.max(d.maxHeight,d.maxWidth,.85*Math.sqrt(d.area));var c=a>b?a/b:1;a=b>a?b/a:1;return{width:d*c,height:d*a,ratioX:c,ratioY:a}},getPolygon:function(a,b,d,c,e){var f=[a,b],g=a-d/2;a+=d/2;d=b-c/2;b+=c/2;return[[g,d],[a,d],[a,b],[g,b]].map(function(a){return B(a,f,-e)})},getRandomPosition:function(a){return Math.round(a*
(Math.random()+.5)/2)},getRotation:function(a,b,d,c){var e=!1;n(a)&&n(b)&&n(d)&&n(c)&&0<a&&-1<b&&c>d&&(e=d+b%a*((c-d)/(a-1||1)));return e},getScale:function(a,b,d){var c=2*Math.max(Math.abs(d.top),Math.abs(d.bottom));d=2*Math.max(Math.abs(d.left),Math.abs(d.right));return Math.min(0<d?1/d*a:1,0<c?1/c*b:1)},getSpiral:function(a,b){var c,e=[];for(c=1;1E4>c;c++)e.push(a(c,b));return function(a){return 1E4>=a?e[a-1]:!1}},intersectionTesting:function(a,b){var c=b.placed,e=b.field,f=b.rectangle,g=b.polygon,
h=b.spiral,m=1,k={x:0,y:0},l=a.rect=D({},f);a.polygon=g;for(a.rotation=b.rotation;!1!==k&&(I(a,c)||r(l,e));)k=h(m),C(k)&&(l.left=f.left+k.x,l.right=f.right+k.x,l.top=f.top+k.y,l.bottom=f.bottom+k.y,a.polygon=u(k.x,k.y,g)),m++;return k},isPolygonsColliding:f,isRectanglesIntersecting:h,rectangularSpiral:function(a,b){a=m(a,b);b=b.field;a&&(a.x*=b.ratioX,a.y*=b.ratioY);return a},rotate2DToOrigin:v,rotate2DToPoint:B,squareSpiral:m,updateFieldBoundaries:function(a,b){if(!n(a.left)||a.left>b.left)a.left=
b.left;if(!n(a.right)||a.right<b.right)a.right=b.right;if(!n(a.top)||a.top>b.top)a.top=b.top;if(!n(a.bottom)||a.bottom<b.bottom)a.bottom=b.bottom;return a}}});l(c,"Series/Wordcloud/WordcloudSeries.js",[c["Series/DrawPointUtilities.js"],c["Core/Globals.js"],c["Core/Series/Series.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Utilities.js"],c["Series/Wordcloud/WordcloudPoint.js"],c["Series/Wordcloud/WordcloudUtils.js"]],function(c,g,h,l,e,k,f){var p=this&&this.__extends||function(){var a=function(b,
c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return a(b,c)};return function(b,c){function d(){this.constructor=b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),m=g.noop,r=l.seriesTypes.column,u=e.extend,w=e.isArray,v=
e.isNumber,B=e.isObject,x=e.merge;e=f.archimedeanSpiral;var D=f.extendPlayingField,A=f.getBoundingBoxFromPolygon,n=f.getPlayingField,C=f.getPolygon,y=f.getRandomPosition,a=f.getRotation,b=f.getScale,d=f.getSpiral,F=f.intersectionTesting,z=f.isPolygonsColliding,J=f.rectangularSpiral,K=f.rotate2DToOrigin,L=f.rotate2DToPoint,M=f.squareSpiral,N=f.updateFieldBoundaries;f=function(a){function e(){var b=null!==a&&a.apply(this,arguments)||this;b.data=void 0;b.options=void 0;b.points=void 0;return b}p(e,a);
e.prototype.bindAxes=function(){var a={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:void 0,tickPositions:[]};h.prototype.bindAxes.call(this);u(this.yAxis.options,a);u(this.xAxis.options,a)};e.prototype.pointAttribs=function(a,b){a=g.seriesTypes.column.prototype.pointAttribs.call(this,a,b);delete a.stroke;delete a["stroke-width"];return a};e.prototype.deriveFontSize=function(a,b,c){a=v(a)?a:0;b=v(b)?b:1;c=v(c)?c:1;return Math.floor(Math.max(c,a*b))};e.prototype.drawPoints=
function(){var a=this,e=a.hasRendered,f=a.xAxis,g=a.yAxis,k=a.group,h=a.options,l=h.animation,m=h.allowExtendPlayingField,G=a.chart.renderer,p=G.text().add(k),r=[],w=a.placementStrategy[h.placementStrategy],y=h.rotation,z=a.points.map(function(a){return a.weight}),x=Math.max.apply(null,z),E=a.points.concat().sort(function(a,b){return b.weight-a.weight});a.group.attr({scaleX:1,scaleY:1});E.forEach(function(b){var c=a.deriveFontSize(1/x*b.weight,h.maxFontSize,h.minFontSize);c=u({fontSize:c+"px"},h.style);
p.css(c).attr({x:0,y:0,text:b.name});c=p.getBBox(!0);b.dimensions={height:c.height,width:c.width}});var t=n(f.len,g.len,E);var H=d(a.spirals[h.spiral],{field:t});E.forEach(function(b){var d=a.deriveFontSize(1/x*b.weight,h.maxFontSize,h.minFontSize);d=u({fontSize:d+"px"},h.style);var f=w(b,{data:E,field:t,placed:r,rotation:y}),g=u(a.pointAttribs(b,b.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:f.x,y:f.y,text:b.name,rotation:v(f.rotation)?f.rotation:
void 0}),p=C(f.x,f.y,b.dimensions.width,b.dimensions.height,f.rotation),q=A(p),n=F(b,{rectangle:q,polygon:p,field:t,placed:r,spiral:H,rotation:f.rotation});!n&&m&&(t=D(t,q),n=F(b,{rectangle:q,polygon:p,field:t,placed:r,spiral:H,rotation:f.rotation}));B(n)?(g.x=(g.x||0)+n.x,g.y=(g.y||0)+n.y,q.left+=n.x,q.right+=n.x,q.top+=n.y,q.bottom+=n.y,t=N(t,q),r.push(b),b.isNull=!1,b.isInside=!0):b.isNull=!0;if(l){var O={x:g.x,y:g.y};e?(delete g.x,delete g.y):(g.x=0,g.y=0)}c.draw(b,{animatableAttribs:O,attribs:g,
css:d,group:k,renderer:G,shapeArgs:void 0,shapeType:"text"})});p=p.destroy();f=b(f.len,g.len,t);a.group.attr({scaleX:f,scaleY:f})};e.prototype.hasData=function(){return B(this)&&!0===this.visible&&w(this.points)&&0<this.points.length};e.prototype.getPlotBox=function(){var a=this.chart,b=a.inverted,c=this[b?"yAxis":"xAxis"];b=this[b?"xAxis":"yAxis"];return{translateX:(c?c.left:a.plotLeft)+(c?c.len:a.plotWidth)/2,translateY:(b?b.top:a.plotTop)+(b?b.len:a.plotHeight)/2,scaleX:1,scaleY:1}};e.defaultOptions=
x(r.defaultOptions,{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:Infinity,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.weight}</b><br/>'}});return e}(r);u(f.prototype,{animate:m,
animateDrilldown:m,animateDrillupFrom:m,pointClass:k,setClip:m,placementStrategy:{random:function(b,c){var d=c.field;c=c.rotation;return{x:y(d.width)-d.width/2,y:y(d.height)-d.height/2,rotation:a(c.orientations,b.index,c.from,c.to)}},center:function(b,c){c=c.rotation;return{x:0,y:0,rotation:a(c.orientations,b.index,c.from,c.to)}}},pointArrayMap:["weight"],spirals:{archimedean:e,rectangular:J,square:M},utils:{extendPlayingField:D,getRotation:a,isPolygonsColliding:z,rotate2DToOrigin:K,rotate2DToPoint:L}});
l.registerSeriesType("wordcloud",f);"";return f});l(c,"masters/modules/wordcloud.src.js",[],function(){})});
//# sourceMappingURL=wordcloud.js.map